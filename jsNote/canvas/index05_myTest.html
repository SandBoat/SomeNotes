<html>

<head>
    <title>我的动画</title>
    <style type="text/css">
    #canvas {
        border: 1px solid black;
    }
    </style>
</head>

<body>
    <canvas id="canvas" width="600" height="300"></canvas>
    <script type="application/javascript">
    const canvas = document.getElementById("canvas");
    const ctx = canvas.getContext("2d");
    const x = 50,
        y = 50,
        w = 50,
        h = 50;
    // ctx.fillStyle = "rgb(200,0,0)"; // 设置图形的填充颜色
    // ctx.fillRect(10, 10, 55, 50);

    // ctx.fillStyle = "rgba(0, 0, 200, 0.5)";
    // ctx.fillRect(30, 30, 55, 50);

    function roate(x = 0, y = 0, w = 50, h = 50, deg = 0) {
        ctx.save();
        ctx.fillStyle = "rgb(200,0,0)"; // 设置图形的填充颜色

        ctx.translate(x + w / 2, y + h / 2);
        ctx.rotate(deg * Math.PI / 180);
        ctx.translate(-(x + w / 2), -(y + h / 2));

        ctx.fillRect(x, y, w, h);
        ctx.clearRect(x, y, w, h);

        ctx.restore();
    }

    // roate(x, y, w, h);

    let deg = 0;

    function tt() {
        roate(x, y, w, h, deg++);
        requestAnimationFrame(tt);
    }
    requestAnimationFrame(tt);
    </script>
</body>

</html>